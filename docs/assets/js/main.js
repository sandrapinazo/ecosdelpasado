"use strict";const allNews=[{location:"Vaticano",date:"2019-05-04",title:"Más mujeres en la universidad",main:"Repentino aumento de las matrículas de mujeres en la universidad del Vaticano. Es estima un 48% más de mujeres que el año pasado."},{location:"Vaticano",date:"2019-04-14",title:"¡Cuidado en las calles!",main:"Recientes rumores acerca de un extraño de aspecto sospechoso recorriendo las calles en busca de hoja roja. Se recomienda alejarse de extraños y mantener a los niños acompañados."},{location:"Poza Aguada",date:"2019-04-07",title:"Trágico fin de la expedición vodacce",main:"La expedición vodacce que tenía intención de encontrar y explorar la tumba del Imperatus Gaius Filipus termina en tragedia tras el ataque de bandidos montaigneses. Los supervivientes, parte del equipo que acompañaba a Oscar Zurita y Carlo Grazia Caligari, regresó la pasada semana portando las noticias."},{location:"Vaticano",date:"2019-05-04",title:"Más mujeres en la universidad",main:"Repentino aumento de las matrículas de mujeres en la universidad del Vaticano. Es estima un 48% más de mujeres que el año pasado."},{location:"Vaticano",date:"2019-04-14",title:"¡Cuidado en las calles!",main:"Recientes rumores acerca de un extraño de aspecto sospechoso recorriendo las calles en busca de hoja roja. Se recomienda alejarse de extraños y mantener a los niños acompañados."},{location:"Poza Aguada",date:"2019-04-07",title:"Trágico fin de la expedición vodacce",main:"La expedición vodacce que tenía intención de encontrar y explorar la tumba del Imperatus Gaius Filipus termina en tragedia tras el ataque de bandidos montaigneses. Los supervivientes, parte del equipo que acompañaba a Oscar Zurita y Carlo Grazia Caligari, regresó la pasada semana portando las noticias."}],newsUlEl=document.querySelector(".news-ul"),locationsUlEl=document.querySelector(".locations-container"),pageTitle=document.querySelector(".page-title"),createNewsEl=document.querySelector(".location-tab__create-news"),formEl=document.querySelector(".create-news--form"),formButtonEl=document.querySelector(".form-button"),formCloseEl=document.querySelector(".form-button-close"),inputEl=document.querySelectorAll(".form-input");let newNews={};function writeNews(e){newsUlEl.innerHTML="";for(const a of e){const e=document.createElement("li");e.classList.add("news-container");const t=document.createElement("article");t.classList.add("news");const n=document.createElement("h3");n.classList.add("news-title");const o=document.createElement("p");o.classList.add("news-main");const s=document.createElement("span");s.classList.add("news-location");const l=document.createTextNode(a.title),i=document.createTextNode(a.main),c=document.createTextNode(a.location);n.appendChild(l),o.appendChild(i),s.appendChild(c),t.appendChild(n),t.appendChild(o),e.appendChild(s),e.appendChild(t),newsUlEl.appendChild(e)}}function writeLocations(){locationsUlEl.innerHTML="";let e=[];for(const a of allNews)e.includes(a.location)||e.push(a.location);e.sort(),e.splice(0,0,"Thea");for(const a of e){const e=document.createElement("li"),t=document.createTextNode(a);e.appendChild(t),e.classList.add("location-tab"),"Thea"===a&&e.classList.add("Thea"),e.addEventListener("click",filterLocation),locationsUlEl.appendChild(e)}}function filterLocation(e){const a=e.currentTarget.innerHTML,t=allNews.filter(e=>"Thea"===a?e.location:e.location===a);clearNews(),writeNews(t);const n=locationsUlEl.querySelectorAll(".location-tab");for(const e of n)e.classList.remove("selected-location-tab");e.currentTarget.classList.add("selected-location-tab")}function clearNews(){newsUlEl.innerHTML=""}function showForm(){formEl.classList.remove("hidden")}function handleCreateNews(){checkInputsFilled()?(getValueFromInputs(),allNews.push(newNews),writeNews(allNews),writeLocations(),closeForm()):alert("Rellena todos los campos")}function getValueFromInputs(){for(const e of inputEl){const a=e.id;newNews[a]=e.value}}function closeForm(){formEl.classList.add("hidden"),newNews={}}function checkInputsFilled(){for(const e of inputEl)if(!e.value)return!1;return!0}"News"===pageTitle.innerHTML&&writeNews(allNews),"News"===pageTitle.innerHTML&&writeLocations(),createNewsEl.addEventListener("click",showForm),formButtonEl.addEventListener("click",handleCreateNews),formCloseEl.addEventListener("click",closeForm);